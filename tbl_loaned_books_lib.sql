
  CREATE TABLE "TBL_LOANED_BOOKS_LIB" 
   (	"LOANED_BOOKS_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"BOOK_ID" NUMBER NOT NULL ENABLE, 
	"MEMBER_ID" NUMBER NOT NULL ENABLE, 
	"BOOK_NAME" VARCHAR2(100 CHAR) NOT NULL ENABLE, 
	"MEMBER_L_NAME" VARCHAR2(1000 CHAR) NOT NULL ENABLE, 
	"MEMBER_NATIONAL_CODE" NUMBER(10,0) NOT NULL ENABLE, 
	"MEMBER_PHONE" NUMBER(11,0) NOT NULL ENABLE, 
	"LENDING_DATE" DATE NOT NULL ENABLE, 
	"DUE_DATE" DATE NOT NULL ENABLE, 
	"RETURN_DATE" DATE NOT NULL ENABLE, 
	 CONSTRAINT "TBL_LOANED_BOOKS_LIB_PK" PRIMARY KEY ("LOANED_BOOKS_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "TBL_LOANED_BOOKS_LIB" ADD CONSTRAINT "TBL_LOANED_BOOKS_LIB_CON" FOREIGN KEY ("BOOK_ID")
	  REFERENCES "TBL_BOOK_LIB" ("BOOK_ID") ENABLE;

  CREATE OR REPLACE EDITIONABLE TRIGGER "TBL_LOANED_BOOKS_LIB_TRG" 
BEFORE INSERT OR UPDATE OR DELETE ON "TBL_LOANED_BOOKS_LIB"
FOR EACH ROW
BEGIN
  IF INSERTING THEN
    SELECT SEQ_LIBRARY.NEXTVAL
    INTO :NEW.LOANED_BOOKS_ID
    from TBL_LOANED_BOOKS_LIB;
  END IF;
END;
/
ALTER TRIGGER "TBL_LOANED_BOOKS_LIB_TRG" ENABLE;